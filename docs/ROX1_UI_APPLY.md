# ROX 1.0 界面风格应用到 3.0

## 设计理解：1.0 外壳，3.0 嵌入

- **1.0 = 外壳（布局与导航）**：顶部大标题、模式切换、侧栏、多视图（市场看板 / 宏观 / 每周推荐 / 诊断 / 知识库 / 交易）的整体结构。
- **3.0 = 嵌在里面的内容与能力**：K 线、排行、自选、指标、盘口及全部后端 API 与业务逻辑，作为内容填入 1.0 的各个视图。

即：**3.0 是嵌在 1.0 里面的**——1.0 负责「长什么样、怎么切换」，3.0 负责「显示什么、能做什么」。

## 目标

将 `/Users/mac/Downloads/word` 中 **Rox 1.0** 的界面风格应用到 **Rox 3.0**，保留 3.0 的后端与数据能力，同时提供你更喜欢的 1.0 布局与视觉。

## 1.0 与 3.0 界面差异概览

| 项目       | Rox 1.0 (word)                    | Rox 3.0 当前                         |
|------------|------------------------------------|--------------------------------------|
| 顶部导航   | 高 14、大标题「ROX QUANT」渐变      | 高 8、紧凑「ROX 3.0」+ 一排链接       |
| 模式切换   | 一排按钮：市场看板/宏观/策略/社区/诊断/每周/知识库/交易/系统 | 无整页模式，仅顶部链接               |
| 侧边栏     | 可切换：自选 / 诊断表单 / 知识库 / 交易 | 固定左栏：自选+排行+板块+沪深A股 Tab  |
| 主内容区   | 多视图 (view-market, view-macro 等)，glass 卡片 | 单页三栏：左排行、中 K 线、右盘口     |
| 视觉       | glass 半透明、neon 边框/文字       | 深色专业版、紧凑                     |

## 在 3.0 中的实现方式

- **入口**：在 3.0 顶部增加「经典界面」链接，跳转到 `/rox1`。
- **模板**：新增 `app/templates/index_rox1.html`，采用 1.0 的：
  - 顶部导航（高 14、ROX QUANT 渐变、模式切换按钮）
  - 侧边栏（自选 / 诊断 / 知识库 / 交易 等面板）
  - 主内容区多视图（view-market、view-macro、view-weekly 等）
- **市场看板视图**：`view-market` 内嵌 3.0 的**三栏工作区**（左排行、中 K 线、右盘口），并保持与 3.0 相同的 DOM ID（如 `stock-list-container`、`kline-chart-container` 等），这样 3.0 的 `main.js` 无需大改即可驱动 K 线、排行、自选等。
- **其它视图**：宏观、每周推荐、知识库、交易等沿用 1.0 的 glass 卡片布局，并对接 3.0 已有 API（如 `/api/market/macro`、`/api/market/weekly` 等）。

## 使用方式

- **默认首页**：打开 `http://127.0.0.1:8081/` 即为 **1.0 风格 UI**（外壳 + 3.0 能力嵌入）。
- **专业版**：访问 `http://127.0.0.1:8081/pro` 为 3.0 紧凑三栏布局；在 1.0 界面顶部或页脚可点「专业版」进入。
- 在 1.0 界面中：
  - **市场看板**：即 3.0 的 K 线 + 排行 + 盘口（同一套逻辑）
  - **宏观 / 每周推荐 / 知识库 / 交易**：1.0 风格卡片，数据来自 3.0 接口

## 文件与路由

- `app/main.py`：`GET /` 渲染 **1.0 风格** `index_rox1.html`（默认 UI）；`GET /pro` 渲染 3.0 专业版 `index.html`。
- `app/templates/index_rox1.html`：1.0 风格外壳 + view-market 内嵌 3.0 三栏。
- `app/templates/index.html`：专业版页面，header 有「返回首页」链接到 `/`。

## 后续可扩展

- 在设置中增加「默认界面：专业版 / 经典版」，登录后优先打开对应布局。
- 经典界面侧边栏与 3.0 自选/诊断 API 完全对接（已有接口可直接复用）。
